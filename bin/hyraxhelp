#! /bin/bash
echo '----------------------------------'
echo 'Startup Process'
echo '----------------------------------'
echo '--- create test app ---'
echo 'ecc'
echo 'ecg'
echo '# from hyrax_root/.internal_test'
echo 'vi config/role_mapper.yml'
echo '  add admin: with user email'
echo '# from hyrax_root/.internal_test'
echo 'das'
echo '----------------------------------'
echo 'Data Problems'
echo '----------------------------------'
echo '--- problem creating default admin set ---'
echo '# from hyrax_root/.internal_test'
echo '### to clean AF Fedora & Solr'
echo 'berc'
echo "require 'active_fedora/cleaner'"
echo 'ActiveFedora::Cleaner.clean!'
echo '### to clean Valkyrie-Solr in Hyrax'
echo 'berc'
echo 'conn = Valkyrie::IndexingAdapter.find(:solr_index).connection'
echo 'conn.delete_by_query('*:*', params: { 'softCommit' => true })'
echo '--- problems with data in databasei ---'
echo '# from hyrax_root/.internal_test'
echo 'rake db:drop'
echo 'rake db:create'
echo 'rake db:migrate'
echo 'rake db:migrate RAILS_ENV=test'
echo '--- object already exists in test Fedora ---'
echo 'cd ~/Services'
echo 'rmf fedora_test'
echo '----------------------------------'
echo 'Testing'
echo '----------------------------------'
echo '--- run test app for ad hoc testing ---'
echo 'msgo'
echo 'rgo'
echo '# from hyrax_root/.internal_test'
echo 'solrgo'
echo 'solrgo -v'
echo 'fedgo'
echo 'bers'
echo '--- run tests ---'
echo 'msgo'
echo 'rgo'
echo '# from hyrax_root/.internal_test'
echo 'solrgo -t'
echo 'solrgo -v'
echo 'fedgo -t'
echo '# from hyrax root'
echo 'rrs'
echo '----------------------------------'

