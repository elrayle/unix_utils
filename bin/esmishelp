#! /bin/bash
echo '=================================='
echo 'Onetime Setup for Local'
echo '=================================='
echo '--- setup moto as local SQS ---'
echo 'git clone git@github.com:spulec/moto.git'
echo 'cd moto'
echo 'make init'
echo 'pip install moto[server]'
echo '--- fresh git clone setup ---'
echo 'git clone git@github.com:cul-it/usda-esmis-sufia.git'
echo 'cp ESMIS/LOCALFILES_TO_COPY/.env ESMIS/spring/usda-esmis-sufi'
echo 'biv'
echo 'rake db:drop' 
echo 'rake db:create' 
echo 'rake db:migrate' 
echo '# IMPORTANT: Make sure that performance tests are off and that seed generation is not being skipped in .env file'
echo 'rake db:seed'
echo '# BE SURE TO start solr, fedora, etc in the new cloned directory'
echo '=================================='
echo 'Startup Process'
echo '=================================='
echo 'local server'
echo '----------------------------------'
echo '---------- from anywhere ---------'
echo 'msgo   # start mysql'
echo 'rgo    # start redis'
echo '-------- from root of app --------'
echo '--- start up solr, fedora ---'
echo 'solrgo # start solr'
echo 'fedgo  # start fedora'
echo '--- start up messaging -- IN ORDER ---'
echo 'mogo   # start moto server'
echo 'moqgo  # add endpoints to moto'
echo 'shogo   # start shoryuken'
echo '--- start up application ---'
echo 'bers   # bundle exec rails s'
echo '----------------------------------'
echo 'production server (AWS)'
echo '----------------------------------'
echo '--- from root of app ---'
echo 'ebuep'
echo 'eb ssh'
echo 'cd /var/app/current'
echo '----------------------------------'
echo 'debug on integration server (AWS)'
echo '----------------------------------'
echo 'ebuei'
echo 'eb ssh'
echo 'cd /var/app/current'
echo 'sudo chmod 666 log/debug.log  ### if this file exists' 
echo 'sudo chmod 666 log/integration.log' 
echo 'bundle exec rails c'
echo '----------------------------------'

